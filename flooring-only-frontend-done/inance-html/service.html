<!DOCTYPE html>
<html lang="en">

<head>
  <!-- Basic -->
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <!-- Mobile Metas -->
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
  <!-- Site Metas -->
  <meta name="keywords" content="flooring, laminate, parquet, hardwood, flooring installation, flooring services" />
  <meta name="description" content="Explore our premium collection of laminate, parquet, and hardwood flooring solutions." />
  <meta name="author" content="" />

  <title>Produktet tona - Berisha Laminat</title>

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Playfair+Display:wght@400;500;600;700&display=swap" rel="stylesheet">
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
  <!-- Tailwind CSS -->
  <link href="css/tailwind.css" rel="stylesheet" />
</head>

<body class="font-sans bg-flooring-cream">
  <!-- Decorative Shapes -->
  <div class="fixed -top-32 -right-32 w-64 h-64 rounded-full bg-flooring-teal opacity-10 z-0"></div>
  <div class="fixed top-1/3 -left-32 w-96 h-96 rounded-full bg-flooring-secondary opacity-10 z-0"></div>
  <div class="fixed bottom-0 right-0 w-80 h-80 rounded-blob-2 bg-flooring-accent opacity-10 z-0"></div>

  <!-- Header Top -->
  <div class="bg-gradient-to-r from-flooring-primary to-flooring-navy text-white py-2 relative z-10">
    <div class="container mx-auto px-4">
      <div class="flex justify-end space-x-6">
        <a href="tel:+1234567890" class="hover:text-flooring-sand transition-colors duration-300">
          <i class="fas fa-phone mr-2"></i>
          <span>Call: +383 44 123 456</span>
        </a>
        <a href="mailto:info@eliteflooring.com" class="hover:text-flooring-sand transition-colors duration-300">
          <i class="fas fa-envelope mr-2"></i>
          <span>Email: info@berishalaminat.com</span>
        </a>
      </div>
    </div>
  </div>

  <!-- Main Header -->
  <header class="bg-white shadow-md relative z-10">
    <div class="container mx-auto px-4">
      <nav class="flex items-center justify-between py-4">
        <a href="index.html" class="text-2xl font-serif text-flooring-primary font-bold flex items-center">
          <span class="circle-secondary text-2xl mr-3"><i class="fas fa-home"></i></span>
          Berisha Laminat
        </a>

        <!-- Mobile menu button -->
        <button class="lg:hidden" id="mobile-menu-button">
          <i class="fas fa-bars text-2xl text-flooring-primary"></i>
        </button>

        <!-- Desktop Navigation -->
        <div class="hidden lg:flex space-x-8">
          <a href="index.html" class="nav-link font-medium">Home</a>
          <a href="about.html" class="nav-link font-medium">Rreth Nesh</a>
          <a href="service.html" class="nav-link font-medium text-flooring-secondary">Produktet</a>
          <a href="contact.html" class="nav-link font-medium">Na Kontaktoni</a>
        </div>
      </nav>

      <!-- Mobile Navigation -->
      <div class="lg:hidden hidden" id="mobile-menu">
        <div class="px-2 pt-2 pb-3 space-y-1">
          <a href="index.html" class="block px-3 py-2 nav-link font-medium">Home</a>
          <a href="about.html" class="block px-3 py-2 nav-link font-medium">Rreth Nesh</a>
          <a href="service.html" class="block px-3 py-2 nav-link font-medium text-flooring-secondary">Produktet</a>
          <a href="contact.html" class="block px-3 py-2 nav-link font-medium">Na Kontaktoni</a>
        </div>
      </div>
    </div>
  </header>

  <!-- Products Section -->
  <section class="py-16 bg-green relative overflow-hidden">
    <!-- Decorative blob -->
    <div class="absolute bottom-0 left-0 w-80 h-80 rounded-blob-2 bg-flooring-cream opacity-70 -z-0"></div>
    
    <div class="container mx-auto px-4 relative z-10">
      <div class="text-center mb-16">
        <div class="blob-shape inline-block mb-6">
          <span class="badge-teal">Kualiteti Premium</span>
        </div>
        <h2 class="section-title">Produktet tona</h2>
        <p class="text-gray-600 mt-4">Shiko koleksionin tonë të dyshemeve Premium</p>
      </div>

      <!-- Products Grid -->
      <div id="productsGrid" class="grid grid-cols-1 md:grid-cols-3 gap-8">
        <!-- Loading state -->
        <div id="loadingState" class="col-span-full text-center py-12">
          <div class="inline-block animate-spin rounded-full h-8 w-8 border-4 border-flooring-primary border-t-transparent"></div>
          <p class="text-gray-600 mt-4">Loading products...</p>
        </div>
        <!-- Error state -->
        <div id="errorState" class="col-span-full text-center py-12 hidden">
          <div class="text-red-500 mb-4">
            <i class="fas fa-exclamation-circle text-4xl"></i>
          </div>
          <p class="text-gray-600 mb-4">Failed to load products. Please try again later.</p>
          <button onclick="loadProducts()" class="btn-primary">
            Try Again
          </button>
        </div>
        <!-- Products will be dynamically inserted here -->
      </div>
    </div>
  </section>

  <!-- Info Section -->
  <section class="bg-gradient-to-r from-flooring-primary to-flooring-navy text-white py-12 relative overflow-hidden">
    <!-- Decorative elements -->
    <div class="absolute top-10 left-10 w-40 h-40 rounded-blob bg-white opacity-5"></div>
    <div class="absolute bottom-10 right-10 w-60 h-60 rounded-blob-2 bg-white opacity-5"></div>
    
    <div class="container mx-auto px-4 relative z-10">
      <h4 class="text-2xl font-serif font-bold text-center mb-8">Get In Touch</h4>
      <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
        <!-- Address -->
        <div class="flex items-center justify-center text-center">
          <div class="w-12 h-12 bg-flooring-secondary rounded-full flex items-center justify-center text-xl mr-4">
            <i class="fas fa-map-marker-alt"></i>
          </div>
          <p class="text-gray-300">
            123 Flooring Street, City, State 12345
          </p>
        </div>

        <!-- Phone -->
        <div class="flex items-center justify-center text-center">
          <div class="w-12 h-12 bg-flooring-secondary rounded-full flex items-center justify-center text-xl mr-4">
            <i class="fas fa-phone"></i>
          </div>
          <p class="text-gray-300">
            +02 1234567890
          </p>
        </div>

        <!-- Email -->
        <div class="flex items-center justify-center text-center">
          <div class="w-12 h-12 bg-flooring-secondary rounded-full flex items-center justify-center text-xl mr-4">
            <i class="fas fa-envelope"></i>
          </div>
          <p class="text-gray-300">
            info@eliteflooring.com
          </p>
        </div>
      </div>

      <!-- Social Links -->
      <div class="mt-12 text-center">
        <h4 class="text-xl font-serif font-bold mb-6">Follow Us</h4>
        <div class="flex justify-center space-x-6">
          <a href="#" class="text-gray-300 hover:text-flooring-sand transition-colors duration-300">
            <i class="fab fa-facebook-f text-2xl"></i>
          </a>
          <a href="#" class="text-gray-300 hover:text-flooring-sand transition-colors duration-300">
            <i class="fab fa-twitter text-2xl"></i>
          </a>
          <a href="#" class="text-gray-300 hover:text-flooring-sand transition-colors duration-300">
            <i class="fab fa-youtube text-2xl"></i>
          </a>
          <a href="#" class="text-gray-300 hover:text-flooring-sand transition-colors duration-300">
            <i class="fab fa-instagram text-2xl"></i>
          </a>
        </div>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="bg-flooring-primary text-white py-12 relative overflow-hidden">
    <!-- Decorative elements -->
    <div class="absolute top-0 right-0 w-80 h-80 rounded-blob bg-flooring-secondary opacity-10"></div>
    
    <div class="container mx-auto px-4 relative z-10">
      <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
        <!-- Company Info -->
        <div>
          <h3 class="text-xl font-serif font-bold mb-4">Elite Flooring</h3>
          <p class="text-gray-300 mb-4">
            Transforming spaces with premium flooring solutions since 2008.
          </p>
          <div class="flex space-x-4">
            <a href="#" class="text-gray-300 hover:text-flooring-sand transition-colors duration-300">
              <i class="fab fa-facebook-f"></i>
            </a>
            <a href="#" class="text-gray-300 hover:text-flooring-sand transition-colors duration-300">
              <i class="fab fa-twitter"></i>
            </a>
            <a href="#" class="text-gray-300 hover:text-flooring-sand transition-colors duration-300">
              <i class="fab fa-instagram"></i>
            </a>
            <a href="#" class="text-gray-300 hover:text-flooring-sand transition-colors duration-300">
              <i class="fab fa-linkedin-in"></i>
            </a>
          </div>
        </div>

        <!-- Quick Links -->
        <div>
          <h4 class="text-lg font-semibold mb-4">Quick Links</h4>
          <ul class="space-y-2">
            <li><a href="index.html" class="text-gray-300 hover:text-flooring-sand transition-colors duration-300">Home</a></li>
            <li><a href="about.html" class="text-gray-300 hover:text-flooring-sand transition-colors duration-300">About Us</a></li>
            <li><a href="service.html" class="text-gray-300 hover:text-flooring-sand transition-colors duration-300">Products</a></li>
            <li><a href="contact.html" class="text-gray-300 hover:text-flooring-sand transition-colors duration-300">Contact</a></li>
          </ul>
        </div>

        <!-- Services -->
        <div>
          <h4 class="text-lg font-semibold mb-4">Our Services</h4>
          <ul class="space-y-2">
            <li><a href="service.html#laminate" class="text-gray-300 hover:text-flooring-sand transition-colors duration-300">Laminate Flooring</a></li>
            <li><a href="service.html#parquet" class="text-gray-300 hover:text-flooring-sand transition-colors duration-300">Parquet Flooring</a></li>
            <li><a href="service.html#hardwood" class="text-gray-300 hover:text-flooring-sand transition-colors duration-300">Hardwood Flooring</a></li>
            <li><a href="service.html#maintenance" class="text-gray-300 hover:text-flooring-sand transition-colors duration-300">Maintenance</a></li>
          </ul>
        </div>

        <!-- Newsletter -->
        <div>
          <h4 class="text-lg font-semibold mb-4">Newsletter</h4>
          <p class="text-gray-300 mb-4">Subscribe to our newsletter for updates and exclusive offers.</p>
          <form class="flex">
            <input type="email" placeholder="Your email" class="flex-1 px-4 py-2 rounded-l-lg focus:outline-none focus:ring-2 focus:ring-flooring-secondary">
            <button type="submit" class="bg-flooring-secondary px-4 py-2 rounded-r-lg hover:bg-flooring-sand transition-colors duration-300">
              <i class="fas fa-paper-plane"></i>
            </button>
          </form>
        </div>
      </div>

      <div class="border-t border-gray-700 mt-8 pt-8 text-center text-gray-300">
        <p>&copy; 2024 Elite Flooring. All rights reserved.</p>
      </div>
    </div>
  </footer>

  <!-- Scripts -->
  <script src="js/main.js"></script>
  <script>
    const API_URL = 'http://localhost:3001/api';

    // Show loading state
    function showLoading() {
      const loadingState = document.getElementById('loadingState');
      const errorState = document.getElementById('errorState');
      if (loadingState) loadingState.classList.remove('hidden');
      if (errorState) errorState.classList.add('hidden');
    }

    // Show error state
    function showError(message = 'Failed to load products. Please try again later.') {
      const loadingState = document.getElementById('loadingState');
      const errorState = document.getElementById('errorState');
      if (loadingState) loadingState.classList.add('hidden');
      if (errorState) {
        errorState.classList.remove('hidden');
        const errorMessage = errorState.querySelector('p');
        if (errorMessage) errorMessage.textContent = message;
      }
    }

    // Load products from API
    async function loadProducts() {
      showLoading();
      try {
        console.log('Fetching products from:', `${API_URL}/products`);
        const response = await fetch(`${API_URL}/products`);
        console.log('Response status:', response.status);
        
        if (!response.ok) {
          throw new Error(`Failed to fetch products: ${response.status} ${response.statusText}`);
        }
        
        const products = await response.json();
        console.log('Products received:', products);
        
        const productsGrid = document.getElementById('productsGrid');
        if (!productsGrid) {
          throw new Error('Products grid element not found');
        }
        
        // Clear existing products
        productsGrid.innerHTML = '';

        if (!products || products.length === 0) {
          productsGrid.innerHTML = `
            <div class="col-span-full text-center py-12">
              <p class="text-gray-600">No products available at the moment.</p>
            </div>
          `;
          return;
        }

        products.forEach(product => {
          const productCard = document.createElement('div');
          productCard.className = 'card-accent group hover:scale-105 transition-transform duration-300 hover-lift';
          productCard.innerHTML = `
            <div class="relative overflow-hidden rounded-t-3xl">
              <div class="absolute top-3 left-3 z-10">
                <span class="badge-teal">Premium</span>
              </div>
              <img src="${product.image || 'images/placeholder.jpg'}" 
                   alt="${product.name}" 
                   class="w-full h-64 object-cover group-hover:opacity-90 transition-opacity duration-300"
                   onerror="this.src='images/placeholder.jpg'">
            </div>
            <div class="p-6">
              <h4 class="text-xl font-semibold text-flooring-primary mb-4">${product.name}</h4>
              <p class="text-gray-600 mb-4">${product.description || 'No description available'}</p>
              <div class="flex items-center justify-between mb-6">
                <span class="text-2xl font-bold text-flooring-secondary">$${Number(product.price).toFixed(2)}</span>
                <a href="contact.html" class="btn-primary inline-block hover-lift">Get Quote</a>
              </div>
            </div>
          `;
          productsGrid.appendChild(productCard);
        });
      } catch (error) {
        console.error('Error loading products:', error);
        showError(error.message);
      }
    }

    // Load products when the page loads
    document.addEventListener('DOMContentLoaded', loadProducts);
  </script>
</body>

</html>